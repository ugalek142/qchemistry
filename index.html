<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Curso Completo de Qu√≠mica Cu√°ntica ‚Äî Psi4</title>

  <!-- MathJax (cargado sin async para asegurar disponibilidad al invocar typeset) -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* --- B√°sicos --- */
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background:#f5f7fb; color:#1c1c1c;
      line-height:1.5; padding:18px;
      transition: background 0.25s, color 0.25s;
    }
    header {
      max-width:1100px; margin:0 auto 18px; display:flex; align-items:center; justify-content:space-between;
    }
    h1 { font-size:1.35rem; }

    /* --- Navegaci√≥n m√≥dulos / pesta√±as --- */
    nav.modules { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-bottom:12px; }
    .module-btn {
      background:#e6eefc; border:1px solid #cfe0ff; padding:8px 12px; border-radius:6px; cursor:pointer; font-weight:600;
    }
    .module-btn.active { background:#0b63e5; color:#fff; border-color:#084fb0; }
    .tabs { display:flex; gap:10px; justify-content:center; margin-bottom:14px; }
    .tab-btn { background:#eef2f8; padding:7px 12px; border-radius:6px; border:1px solid #d7e6ff; cursor:pointer; font-weight:600; }
    .tab-btn.active { background:#0b63e5; color:#fff; border-color:#084fb0; }

    /* --- Contenido --- */
    .content {
      max-width:1100px; margin:0 auto; background:#ffffff; padding:22px; border-radius:10px;
      box-shadow:0 8px 28px rgba(18,24,40,0.06); min-height:420px; overflow:auto;
    }
    h2 { color:#0b3a91; margin-bottom:8px; }
    p, ul { margin-bottom:12px; }
    ul { padding-left:20px; }
    pre { background:#0d0d0d; color:#f8f8f2; padding:12px; border-radius:8px; overflow:auto; font-family: Consolas, monospace; font-size:0.92rem; position:relative; white-space:pre; }
    code { white-space: pre-wrap; }

    /* copy button */
    .copy-btn {
      position:absolute; right:8px; top:8px; background:#2b6cff; color:white; border:none; padding:6px 8px; border-radius:6px; cursor:pointer; font-size:0.85rem;
    }
    .copy-btn.copied { background:#28a745; }

    /* theme toggle */
    #theme-toggle { background:#0b63e5; color:#fff; border:none; padding:8px 10px; border-radius:8px; cursor:pointer; font-weight:600; }

    /* --- Dark theme --- */
    body.dark {
      background:#0f1720; color:#e6eef6;
    }
    body.dark .content { background:#0b1220; box-shadow:0 10px 30px rgba(0,0,0,0.6); }
    body.dark .module-btn { background:#263241; color:#cfe0ff; border-color:#263241; }
    body.dark .module-btn.active { background:#1e88ff; color:#fff; }
    body.dark .tab-btn { background:#202a36; color:#d0e7ff; border-color:#202a36; }
    body.dark .tab-btn.active { background:#1e88ff; color:#fff; }
    body.dark pre { background:#071018; color:#dfeffb; }
    body.dark .copy-btn { background:#1565c0; }

    /* responsive */
    @media (max-width:640px){
      .module-btn, .tab-btn { padding:8px 10px; font-size:0.9rem; }
      header { flex-direction:column; gap:12px; align-items:center; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Curso de Qu√≠mica Cu√°ntica ‚Äî Ejemplos y C√≥digo (Psi4)</h1>
    <div>
      <button id="theme-toggle" aria-label="Alternar tema">üåô Modo oscuro</button>
    </div>
  </header>

  <nav class="modules" role="navigation" aria-label="M√≥dulos">
    <button class="module-btn active" data-module="1">M√≥dulo 1</button>
    <button class="module-btn" data-module="2">M√≥dulo 2</button>
    <button class="module-btn" data-module="3">M√≥dulo 3</button>
    <button class="module-btn" data-module="4">M√≥dulo 4</button>
    <button class="module-btn" data-module="5">M√≥dulo 5</button>
    <button class="module-btn" data-module="6">M√≥dulo 6</button>
  </nav>

  <section class="tabs" role="tablist" aria-label="Secciones">
    <button class="tab-btn active" data-tab="theory" role="tab">Teor√≠a</button>
    <button class="tab-btn" data-tab="practice" role="tab">Pr√°ctica</button>
    <button class="tab-btn" data-tab="homework" role="tab">Tarea</button>
  </section>

  <main id="content" class="content" role="main" aria-live="polite">
    <!-- contenido din√°mico -->
  </main>

<script>
document.addEventListener('DOMContentLoaded', () => {
  /* ---------------------------
     Contenido con ejemplos en Psi4
     --------------------------- */
  const courseData = {
    1: {
      theory: `
        <h2>M√≥dulo 1 ‚Äî Introducci√≥n</h2>
        <p>Conceptos clave: funci√≥n de onda \\(\\psi\\), operador hamiltoniano \\(\\hat{H}\\) y la ecuaci√≥n de Schr√∂dinger.</p>
        <p>Forma: \\(\\hat{H}\\,\\psi = E\\,\\psi\\). Interpretaci√≥n: \\(|\\psi|^2\\) es la densidad de probabilidad.</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 1 ‚Äî Part√≠cula en una caja (Python)</h3>
        <p>Calcular y graficar el estado fundamental (requiere numpy y matplotlib).</p>
        <pre><button class="copy-btn">Copiar</button><code>import numpy as np
import matplotlib.pyplot as plt

L = 1.0
x = np.linspace(0, L, 1000)
n = 1
psi = np.sqrt(2.0/L) * np.sin(n * np.pi * x / L)

plt.plot(x, psi)
plt.title('Funci√≥n de onda ‚Äî n=1')
plt.xlabel('x')
plt.ylabel('œà(x)')
plt.grid(True)
plt.show()</code></pre>
        <p>Ejecutar en Jupyter o en un script Python.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Explique la interpretaci√≥n f√≠sica de \\(|\\psi|^2\\).</li>
          <li>Implemente y compare los primeros 3 estados (n=1,2,3).</li>
        </ol>
      `
    },

    2: {
      theory: `
        <h2>M√≥dulo 2 ‚Äî Mec√°nica cu√°ntica aplicada a √°tomos</h2>
        <p>Ejemplo: funci√≥n 1s del hidr√≥geno:</p>
        <p>\\[ \\psi_{1s}(r) = \\frac{1}{\\sqrt{\\pi a_0^3}} e^{-r/a_0} \\]</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 2 ‚Äî Plot radial 1s (Python)</h3>
        <pre><button class="copy-btn">Copiar</button><code>import numpy as np
import matplotlib.pyplot as plt

a0 = 1.0
r = np.linspace(0, 10, 400)
psi_1s = (1.0/np.sqrt(np.pi*a0**3)) * np.exp(-r/a0)

plt.plot(r, psi_1s)
plt.title('Funci√≥n radial 1s (H)')
plt.xlabel('r (a.u.)')
plt.ylabel('œà_{1s}(r)')
plt.grid(True)
plt.show()</code></pre>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ul>
          <li>Demuestre la normalizaci√≥n de \\(\\psi_{1s}(r)\\).</li>
          <li>Compare con la densidad radial \\(4\\pi r^2 |\\psi|^2\\).</li>
        </ul>
      `
    },

    3: {
      theory: `
        <h2>M√≥dulo 3 ‚Äî Estructura molecular y orbitales</h2>
        <p>Combinaci√≥n lineal de orbitales at√≥micos (LCAO):</p>
        <p>\\[ \\psi_{mol} = c_A \\psi_A + c_B \\psi_B \\]</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 3 ‚Äî Energ√≠a SCF y optimizaci√≥n con Psi4</h3>
        <p>Instalaci√≥n recomendada (Conda): <code>conda install psi4 -c psi4</code></p>
        <pre><button class="copy-btn">Copiar</button><code>import psi4

# Ajustes b√°sicos
psi4.set_memory('500 MB')
psi4.core.set_output_file('psi4_output.dat', False)

# Definir mol√©cula (agua)
mol = psi4.geometry(\"\"\"
O 0.000000 0.000000 0.000000
H 0.000000 -0.757000 0.587000
H 0.000000 0.757000 0.587000
\"\"\")

# C√°lculo SCF (Hartree-Fock) con base STO-3G
E_scf = psi4.energy('scf/sto-3g', molecule=mol)
print('Energ√≠a SCF (Hartree-Fock) [Hartree]:', E_scf)

# Optimizaci√≥n geom√©trica (opcional)
E_opt = psi4.optimize('scf/sto-3g', molecule=mol)
print('Energ√≠a optimizada:', E_opt)</code></pre>
        <p>El archivo <code>psi4_output.dat</code> contiene el log detallado.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Ejecute el ejemplo anterior y anote la energ√≠a SCF y la energ√≠a tras optimizaci√≥n.</li>
          <li>Comente c√≥mo cambia la geometr√≠a tras optimizar.</li>
        </ol>
      `
    },

    4: {
      theory: `
        <h2>M√≥dulo 4 ‚Äî M√©todos cu√°nticos computacionales</h2>
        <p>Comparativa HF vs DFT: HF es mean-field; DFT usa funcionales de densidad (por ejemplo PBE, B3LYP).</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 4 ‚Äî Hartree-Fock y DFT con Psi4</h3>
        <pre><button class="copy-btn">Copiar</button><code>import psi4

psi4.set_memory('500 MB')
psi4.core.set_output_file('psi4_methods.dat', False)

mol = psi4.geometry(\"\"\"
H 0.0 0.0 0.0
H 0.0 0.0 0.74
\"\"\")

# Hartree-Fock (RHF) con STO-3G
E_hf = psi4.energy('scf/sto-3g', molecule=mol)
print('E(HF, STO-3G) =', E_hf)

# DFT (por ejemplo B3LYP/6-31G*)
E_dft = psi4.energy('b3lyp/6-31G*', molecule=mol)
print('E(B3LYP, 6-31G*) =', E_dft)</code></pre>
        <p>Compare energ√≠as y comente diferencias en precisi√≥n y coste.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ul>
          <li>Ejecute ambos m√©todos para H‚ÇÇ con distintas bases.</li>
          <li>Resumen: c√≥mo var√≠a la energ√≠a y por qu√©.</li>
        </ul>
      `
    },

    5: {
      theory: `
        <h2>M√≥dulo 5 ‚Äî Aplicaciones pr√°cticas: perfiles de energ√≠a</h2>
        <p>Ejemplo pr√°ctico relevante: curva de disociaci√≥n (energ√≠a vs distancia interat√≥mica).</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 5 ‚Äî Curva de disociaci√≥n H‚ÇÇ con Psi4</h3>
        <pre><button class="copy-btn">Copiar</button><code>import psi4
import numpy as np

psi4.set_memory('500 MB')
psi4.core.set_output_file('dissociation.dat', False)

distances = np.linspace(0.4, 3.0, 12)
energies = []

for d in distances:
    mol = psi4.geometry(f\"\"\" H
    H 0 0 {d}
    \"\"\")
    e = psi4.energy('scf/sto-3g', molecule=mol)
    energies.append(e)
    print(f'd={d:.2f} √Ö, E={e:.6f} Hartree')

# (Opcional) exportar distances, energies para graficar en Python/Matplotlib</code></pre>
        <p>Analice el m√≠nimo y el comportamiento a grandes separaciones.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Genere la gr√°fica Energ√≠a vs Distancia para H‚ÇÇ.</li>
          <li>Determine la distancia de enlace aproximada y compare con literatura.</li>
        </ol>
      `
    },

    6: {
      theory: `
        <h2>M√≥dulo 6 ‚Äî Flujo completo con Psi4</h2>
        <p>Flujo t√≠pico con Psi4: definir mol√©cula ‚Üí optimizar geometr√≠a ‚Üí c√°lculo de energ√≠a ‚Üí an√°lisis espectral (frecuencias).</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 6 ‚Äî Workflow: optimizaci√≥n + frecuencias</h3>
        <pre><button class="copy-btn">Copiar</button><code>import psi4

psi4.set_memory('1 GB')
psi4.core.set_output_file('workflow.dat', False)

# Definir mol√©cula (agua)
mol = psi4.geometry(\"\"\"
O 0.000000 0.000000 0.000000
H 0.000000 -0.757000 0.587000
H 0.000000 0.757000 0.587000
\"\"\")

# Optimizaci√≥n (DFT por ejemplo)
opt_e = psi4.optimize('b3lyp/6-31G*', molecule=mol)
print('E optimizada (B3LYP):', opt_e)

# C√°lculo de frecuencias para verificar m√≠nimo
freqs = psi4.frequency('b3lyp/6-31G*', molecule=mol, return_wfn=False)
# El log contendr√° las frecuencias; si todas son reales (no imaginarias) es un m√≠nimo.</code></pre>
        <p>Interprete las frecuencias normales: modos de estiramiento/angulaci√≥n y su relaci√≥n con espectros IR.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Ejecute el workflow para H‚ÇÇO y entregue la geometr√≠a optimizada y las tres frecuencias principales.</li>
          <li>Comente si la geometr√≠a es un m√≠nimo (basado en las frecuencias).</li>
        </ol>
      `
    }
  };

  /* ---------------------------
     DOM y comportamiento
     --------------------------- */
  let currentModule = 1;
  let currentTab = 'theory';

  const moduleButtons = document.querySelectorAll('.module-btn');
  const tabButtons = document.querySelectorAll('.tab-btn');
  const contentEl = document.getElementById('content');
  const themeToggle = document.getElementById('theme-toggle');

  function updateActiveButtons(){
    moduleButtons.forEach(b => b.classList.toggle('active', +b.dataset.module === currentModule));
    tabButtons.forEach(b => b.classList.toggle('active', b.dataset.tab === currentTab));
  }

  function attachCopyHandlers(){
    const pres = contentEl.querySelectorAll('pre');
    pres.forEach(pre => {
      const btn = pre.querySelector('.copy-btn');
      if(btn){
        btn.onclick = () => copyPreToClipboard(pre, btn);
      } else {
        // si falta el bot√≥n, crear
        const newBtn = document.createElement('button');
        newBtn.className = 'copy-btn';
        newBtn.innerText = 'Copiar';
        newBtn.onclick = () => copyPreToClipboard(pre, newBtn);
        pre.style.position = 'relative';
        pre.appendChild(newBtn);
      }
    });
  }

  async function copyPreToClipboard(pre, btn){
    try {
      const codeText = pre.querySelector('code') ? pre.querySelector('code').innerText : pre.innerText;
      await navigator.clipboard.writeText(codeText);
      btn.classList.add('copied');
      const original = btn.innerText;
      btn.innerText = 'Copiado';
      setTimeout(()=>{ btn.classList.remove('copied'); btn.innerText = original; }, 1400);
    } catch (err){
      console.error('No se pudo copiar:', err);
      alert('Error al copiar. Use Ctrl+C para copiar manualmente.');
    }
  }

  function loadContent(){
    const html = courseData[currentModule][currentTab] || '<p>Contenido no disponible.</p>';
    contentEl.innerHTML = html;
    attachCopyHandlers();
    // Forzar MathJax a recompilar
    if(window.MathJax && window.MathJax.typesetPromise){
      MathJax.typesetPromise().catch(e => console.warn('MathJax:', e));
    }
    updateActiveButtons();
  }

  // Listeners m√≥dulos
  moduleButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const m = +btn.dataset.module;
      if(m === currentModule) return;
      currentModule = m;
      currentTab = 'theory'; // reset a teor√≠a al cambiar m√≥dulo
      loadContent();
    });
  });

  // Listeners pesta√±as
  tabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const t = btn.dataset.tab;
      if(t === currentTab) return;
      currentTab = t;
      loadContent();
    });
  });

  // Theme toggle
  themeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    if(document.body.classList.contains('dark')){
      themeToggle.textContent = '‚òÄÔ∏è Modo claro';
    } else {
      themeToggle.textContent = 'üåô Modo oscuro';
    }
  });

  // Carga inicial
  loadContent();
});
</script>
</body>
</html>
