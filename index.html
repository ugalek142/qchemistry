<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Curso Completo de Qu√≠mica Cu√°ntica ‚Äî Ejemplos y C√≥digo</title>

  <!-- MathJax (sin async para asegurar disponibilidad cuando lo invoquemos) -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* --- B√°sicos --- */
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background:#f5f7fb; color:#1c1c1c;
      line-height:1.5; padding:18px;
      transition: background 0.25s, color 0.25s;
    }
    header {
      max-width:1100px; margin:0 auto 18px; display:flex; align-items:center; justify-content:space-between;
    }
    h1 { font-size:1.35rem; }
    /* --- Navegaci√≥n m√≥dulos / pesta√±as --- */
    nav.modules { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-bottom:12px; }
    .module-btn {
      background:#e6eefc; border:1px solid #cfe0ff; padding:8px 12px; border-radius:6px; cursor:pointer; font-weight:600;
    }
    .module-btn.active { background:#0b63e5; color:#fff; border-color:#084fb0; }
    .tabs { display:flex; gap:10px; justify-content:center; margin-bottom:14px; }
    .tab-btn { background:#eef2f8; padding:7px 12px; border-radius:6px; border:1px solid #d7e6ff; cursor:pointer; font-weight:600; }
    .tab-btn.active { background:#0b63e5; color:#fff; border-color:#084fb0; }
    /* --- Contenido --- */
    .content {
      max-width:1100px; margin:0 auto; background:#ffffff; padding:22px; border-radius:10px;
      box-shadow:0 8px 28px rgba(18,24,40,0.06); min-height:420px; overflow:auto;
    }
    h2 { color:#0b3a91; margin-bottom:8px; }
    p, ul { margin-bottom:12px; }
    ul { padding-left:20px; }
    pre { background:#0d0d0d; color:#f8f8f2; padding:12px; border-radius:8px; overflow:auto; font-family: Consolas, monospace; font-size:0.92rem; position:relative; }
    code { white-space: pre-wrap; }

    /* copy button */
    .copy-btn {
      position:absolute; right:8px; top:8px; background:#2b6cff; color:white; border:none; padding:6px 8px; border-radius:6px; cursor:pointer; font-size:0.85rem;
    }
    .copy-btn.copied { background:#28a745; }

    /* theme toggle */
    #theme-toggle { background:#0b63e5; color:#fff; border:none; padding:8px 10px; border-radius:8px; cursor:pointer; font-weight:600; }

    /* --- Dark theme --- */
    body.dark {
      background:#0f1720; color:#e6eef6;
    }
    body.dark .content { background:#0b1220; box-shadow:0 10px 30px rgba(0,0,0,0.6); }
    body.dark .module-btn { background:#263241; color:#cfe0ff; border-color:#263241; }
    body.dark .module-btn.active { background:#1e88ff; color:#fff; }
    body.dark .tab-btn { background:#202a36; color:#d0e7ff; border-color:#202a36; }
    body.dark .tab-btn.active { background:#1e88ff; color:#fff; }
    body.dark pre { background:#071018; color:#dfeffb; }
    body.dark .copy-btn { background:#1565c0; }

    /* responsive */
    @media (max-width:640px){
      .module-btn, .tab-btn { padding:8px 10px; font-size:0.9rem; }
      header { flex-direction:column; gap:12px; align-items:center; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Curso de Qu√≠mica Cu√°ntica ‚Äî Ejemplos y C√≥digo (Qiskit)</h1>
    <div>
      <button id="theme-toggle" aria-label="Alternar tema">üåô Modo oscuro</button>
    </div>
  </header>

  <nav class="modules" role="navigation" aria-label="M√≥dulos">
    <button class="module-btn active" data-module="1">M√≥dulo 1</button>
    <button class="module-btn" data-module="2">M√≥dulo 2</button>
    <button class="module-btn" data-module="3">M√≥dulo 3</button>
    <button class="module-btn" data-module="4">M√≥dulo 4</button>
    <button class="module-btn" data-module="5">M√≥dulo 5</button>
    <button class="module-btn" data-module="6">M√≥dulo 6</button>
  </nav>

  <section class="tabs" role="tablist" aria-label="Secciones">
    <button class="tab-btn active" data-tab="theory" role="tab">Teor√≠a</button>
    <button class="tab-btn" data-tab="practice" role="tab">Pr√°ctica</button>
    <button class="tab-btn" data-tab="homework" role="tab">Tarea</button>
  </section>

  <main id="content" class="content" role="main" aria-live="polite">
    <!-- contenido din√°mico -->
  </main>

<script>
document.addEventListener('DOMContentLoaded', () => {
  /* ---------------------------
     Datos y ejemplos por m√≥dulo
     --------------------------- */
  const courseData = {
    1: {
      theory: `
        <h2>M√≥dulo 1 ‚Äî Introducci√≥n</h2>
        <p>Conceptos clave: funci√≥n de onda \\(\\psi\\), operador hamiltoniano \\(\\hat{H}\\) y la ecuaci√≥n de Schr√∂dinger</p>
        <p>Forma compacta: \\(\\hat{H}\\,\\psi = E\\,\\psi\\)</p>
        <p>Interpretaci√≥n: \\(|\\psi|^2\\) es la densidad de probabilidad.</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 1 ‚Äî Part√≠cula en una caja (Python)</h3>
        <p>Calcular y graficar el estado fundamental (uso local: requiere numpy y matplotlib).</p>
        <pre><button class="copy-btn">Copiar</button><code>import numpy as np
import matplotlib.pyplot as plt

L = 1.0
x = np.linspace(0, L, 1000)
n = 1
psi = np.sqrt(2.0/L) * np.sin(n * np.pi * x / L)

plt.plot(x, psi)
plt.title('Funci√≥n de onda ‚Äî n=1')
plt.xlabel('x')
plt.ylabel('œà(x)')
plt.grid(True)
plt.show()</code></pre>
        <p><strong>Notas:</strong> ejecutar en Jupyter o script Python.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Explique la interpretaci√≥n f√≠sica de \\(|\\psi|^2\\).</li>
          <li>Implemente y compare los primeros 3 estados (n=1,2,3).</li>
        </ol>
      `
    },

    2: {
      theory: `
        <h2>M√≥dulo 2 ‚Äî Mec√°nica cu√°ntica aplicada a √°tomos</h2>
        <p>Ejemplo: funci√≥n de onda 1s del √°tomo de hidr√≥geno (radial):</p>
        <p>\\[
          \\psi_{1s}(r) = \\frac{1}{\\sqrt{\\pi a_0^3}} e^{-r/a_0}
        \\]</p>
        <p>donde \\(a_0\\) es el radio de Bohr.</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 2 ‚Äî Plot radial 1s (Python)</h3>
        <pre><button class="copy-btn">Copiar</button><code>import numpy as np
import matplotlib.pyplot as plt

a0 = 1.0
r = np.linspace(0, 10, 400)
psi_1s = (1.0/np.sqrt(np.pi*a0**3)) * np.exp(-r/a0)

plt.plot(r, psi_1s)
plt.title('Funci√≥n radial 1s (H)')
plt.xlabel('r (a.u.)')
plt.ylabel('œà_{1s}(r)')
plt.grid(True)
plt.show()</code></pre>
        <p>Analice la normalizaci√≥n y el m√°ximo de la funci√≥n.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ul>
          <li>Demuestre la normalizaci√≥n de \\(\\psi_{1s}(r)\\).</li>
          <li>Compare con la densidad electr√≥nica radial \\(4\\pi r^2 |\\psi|^2\\).</li>
        </ul>
      `
    },

    3: {
      theory: `
        <h2>M√≥dulo 3 ‚Äî Estructura molecular y orbitales</h2>
        <p>Combinaci√≥n lineal de orbitales at√≥micos (LCAO):</p>
        <p>\\[
          \\psi_{mol} = c_A\\psi_A + c_B\\psi_B
        \\]</p>
        <p>Los coeficientes determinan enlaces constructivos/destructivos.</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 3 ‚Äî Obtener energ√≠as orbitales con Qiskit Nature (Python)</h3>
        <pre><button class="copy-btn">Copiar</button><code>from qiskit_nature.drivers import PySCFDriver

driver = PySCFDriver(atom='O 0 0 0; H 0 -0.757 0.587; H 0 0.757 0.587', basis='sto3g')
molecule = driver.run()
print('Orbital energies:', molecule.orbital_energies)
print('Number of molecular orbitals:', molecule.num_molecular_orbitals)</code></pre>
        <p>Requiere: <code>pip install qiskit-nature pyscf</code></p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Construya la LCAO para H<sub>2</sub> y grafique la combinaci√≥n constructiva y destructiva.</li>
          <li>Interprete el orden de llenado de orbitales en H<sub>2</sub>O.</li>
        </ol>
      `
    },

    4: {
      theory: `
        <h2>M√≥dulo 4 ‚Äî M√©todos cu√°nticos computacionales</h2>
        <p>Comparativa: Hartree‚ÄìFock (mean-field) vs DFT (funcional de densidad). DFT suele ser m√°s eficiente para sistemas grandes.</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 4 ‚Äî Hartree-Fock y DFT con PySCF (Python)</h3>
        <pre><button class="copy-btn">Copiar</button><code># Requiere: pip install pyscf
from pyscf import gto, scf, dft

mol = gto.M(atom='H 0 0 0; H 0 0 0.74', basis='sto3g')

# Hartree-Fock (RHF)
mf_hf = scf.RHF(mol)
e_hf = mf_hf.kernel()
print('E(HF) =', e_hf)

# DFT (por ejemplo PBE)
mf_dft = dft.RKS(mol)
mf_dft.xc = 'PBE'
e_dft = mf_dft.kernel()
print('E(DFT,PBE) =', e_dft)</code></pre>
        <p>Compare energ√≠as y tiempos de c√≥mputo para distintos basis/m√©todos.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ul>
          <li>Ejecute HF y DFT para H<sub>2</sub> y compare resultados.</li>
          <li>Explique por qu√© pueden diferir energ√≠as predichas.</li>
        </ul>
      `
    },

    5: {
      theory: `
        <h2>M√≥dulo 5 ‚Äî Algoritmos cu√°nticos para qu√≠mica (VQE)</h2>
        <p>VQE (Variational Quantum Eigensolver): ansatz parametrizado + optimizador cl√°sico para minimizar energ√≠a esperada \\(\\langle H \\rangle\\).</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 5 ‚Äî Esquema VQE con Qiskit (conceptual)</h3>
        <pre><button class="copy-btn">Copiar</button><code>from qiskit import Aer
from qiskit.utils import QuantumInstance
from qiskit.algorithms import VQE, NumPyMinimumEigensolver
from qiskit.circuit.library import TwoLocal
from qiskit.algorithms.optimizers import SLSQP

# Ansatz parametrizado
ansatz = TwoLocal(rotation_blocks='ry', entanglement_blocks='cz', reps=2)

# Quantum instance (simulador local)
qi = QuantumInstance(Aer.get_backend('statevector_simulator'))

# VQE con optimizador cl√°sico
vqe = VQE(ansatz=ansatz, optimizer=SLSQP(maxiter=100), quantum_instance=qi)

# (Aqu√≠ debe integrarse el Hamiltoniano mapeado desde Qiskit Nature)
# Resultado conceptual:
# result = vqe.compute_minimum_eigenvalue(qubit_op)
# print('Energy (VQE):', result.eigenvalue.real)</code></pre>
        <p>Nota: este bloque es esquem√°tico; la integraci√≥n completa requiere construir el Hamiltoniano (ver m√≥dulo 6).</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <p>Investigue el papel del ansatz y del optimizador en VQE: ventajas y riesgos (barren plateaus, n√∫mero de par√°metros).</p>
      `
    },

    6: {
      theory: `
        <h2>M√≥dulo 6 ‚Äî Qiskit Nature: flujo completo</h2>
        <p>Flujo t√≠pico: <em>driver</em> ‚Üí <em>problem</em> ‚Üí <em>second_q_ops</em> ‚Üí transformar a qubits ‚Üí resolver (NumPy / VQE / QPE).</p>
      `,
      practice: `
        <h3>Ejemplo pr√°ctico 6 ‚Äî C√°lculo de H‚ÇÇO con Qiskit Nature (funcional, runnable)</h3>
        <pre><button class="copy-btn">Copiar</button><code>from qiskit_nature.drivers import PySCFDriver
from qiskit_nature.problems.second_quantization.electronic import ElectronicStructureProblem
from qiskit_nature.converters.second_quantization import QubitConverter
from qiskit_nature.mappers.second_quantization import JordanWignerMapper
from qiskit.algorithms import NumPyMinimumEigensolver

# 1) Driver -> qu√≠mica cl√°sica (PySCF)
driver = PySCFDriver(atom='O 0 0 0; H 0 -0.757 0.587; H 0 0.757 0.587', basis='sto3g')
problem = ElectronicStructureProblem(driver)

# 2) Operadores en segunda cuantizaci√≥n
second_q_ops = problem.second_q_ops()
main_op = second_q_ops[0]

# 3) Mapeo a qubits (Jordan-Wigner)
mapper = JordanWignerMapper()
converter = QubitConverter(mapper=mapper)
qubit_op = converter.convert(main_op)

# 4) Resolver con m√©todo cl√°sico (NumPy exacto)
solver = NumPyMinimumEigensolver()
result = solver.compute_minimum_eigenvalue(qubit_op)

print('Energ√≠a (Hartree):', result.eigenvalue.real)</code></pre>
        <p>Requisitos: <code>pip install qiskit-nature pyscf qiskit</code>. Ejecutar en entorno con PySCF.</p>
      `,
      homework: `
        <h3>Trabajo</h3>
        <ol>
          <li>Ejecute el ejemplo anterior para H‚ÇÇO y documente la energ√≠a obtenida.</li>
          <li>Intente mapear con Jordan-Wigner y Bravyi-Kitaev; compare tama√±os de operadores.</li>
        </ol>
      `
    }
  };

  /* ---------------------------
     Elementos DOM y comportamiento
     --------------------------- */
  let currentModule = 1;
  let currentTab = 'theory';

  const moduleButtons = document.querySelectorAll('.module-btn');
  const tabButtons = document.querySelectorAll('.tab-btn');
  const contentEl = document.getElementById('content');
  const themeToggle = document.getElementById('theme-toggle');

  function updateActiveButtons(){
    moduleButtons.forEach(b => b.classList.toggle('active', +b.dataset.module===currentModule));
    tabButtons.forEach(b => b.classList.toggle('active', b.dataset.tab===currentTab));
  }

  function attachCopyHandlers(){
    // para cada pre dentro del content, aseguro bot√≥n de copiar funcional
    const pres = contentEl.querySelectorAll('pre');
    pres.forEach(pre => {
      // si ya tiene bot√≥n, skip (lo dejamos)
      if(pre.querySelector('.copy-btn')) {
        // re-asignar handler por seguridad
        const btn = pre.querySelector('.copy-btn');
        btn.onclick = () => copyPreToClipboard(pre, btn);
        return;
      }
      const btn = pre.querySelector('.copy-btn') || pre.querySelector('button.copy-btn') || null;
      // si no existe, crear (pero en nuestro contenido ya a√±adimos bot√≥n HTML)
      if(!btn){
        const newBtn = document.createElement('button');
        newBtn.className = 'copy-btn';
        newBtn.innerText = 'Copiar';
        newBtn.onclick = () => copyPreToClipboard(pre, newBtn);
        pre.style.position = 'relative';
        pre.appendChild(newBtn);
      } else {
        btn.onclick = () => copyPreToClipboard(pre, btn);
      }
    });
  }

  async function copyPreToClipboard(pre, btn){
    try {
      const codeText = pre.querySelector('code') ? pre.querySelector('code').innerText : pre.innerText;
      await navigator.clipboard.writeText(codeText);
      btn.classList.add('copied');
      const original = btn.innerText;
      btn.innerText = 'Copiado';
      setTimeout(()=>{ btn.classList.remove('copied'); btn.innerText = original; }, 1400);
    } catch (err){
      console.error('No se pudo copiar:', err);
      alert('Error al copiar. Use Ctrl+C para copiar manualmente.');
    }
  }

  function loadContent(){
    const html = courseData[currentModule][currentTab] || '<p>Contenido no disponible.</p>';
    contentEl.innerHTML = html;
    // A√±adimos copy buttons si no existen (algunos bloques tienen bot√≥n incluido en HTML)
    attachCopyHandlers();
    // Re-render MathJax (si est√° cargado)
    if(window.MathJax && window.MathJax.typesetPromise){
      MathJax.typesetPromise().catch(e => console.warn('MathJax:', e));
    }
    updateActiveButtons();
  }

  // listeners m√≥dulos
  moduleButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const m = +btn.dataset.module;
      if(m === currentModule) return;
      currentModule = m;
      // Al cambiar m√≥dulo, volver a 'theory' por defecto
      currentTab = 'theory';
      loadContent();
    });
  });

  // listeners pesta√±as
  tabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const t = btn.dataset.tab;
      if(t === currentTab) return;
      currentTab = t;
      loadContent();
    });
  });

  // theme toggle
  themeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    if(document.body.classList.contains('dark')){
      themeToggle.textContent = '‚òÄÔ∏è Modo claro';
    } else {
      themeToggle.textContent = 'üåô Modo oscuro';
    }
  });

  // carga inicial
  loadContent();
});
</script>
</body>
</html>
